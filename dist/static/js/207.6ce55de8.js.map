{"version":3,"file":"static/js/207.6ce55de8.js","mappings":"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","sources":["webpack://react-blog/./src/api/article.js","webpack://react-blog/./src/pages/MdArticle/View/index.jsx","webpack://react-blog/./src/pages/MdArticle/View/index.module.scss?0fd2","webpack://react-blog/./src/utils/request.js","webpack://react-blog/./src/config/api.js"],"sourcesContent":["import request from '@/utils/request'\r\n\r\n// 添加文章\r\nexport const addArticle = data => {\r\n  return request({\r\n    method: 'post',\r\n    url: '/article/add',\r\n    data\r\n  })\r\n}\r\n\r\n// 查询首页文章列表\r\nexport const getHomeArticleList = params => {\r\n  return request({\r\n    method: 'get',\r\n    url: '/article/getHomeList',\r\n    params\r\n  })\r\n}\r\n\r\n// 查询文章列表\r\nexport const getArticleList = data => {\r\n  return request({\r\n    method: 'post',\r\n    url: '/article/getArticleList',\r\n    params: {\r\n      keyword: data.keyword\r\n    },\r\n    data: {\r\n      ...data.pageParams\r\n    }\r\n  })\r\n}\r\n\r\n// 查询文章信息\r\nexport const getArticleInfo = articleId => {\r\n  return request({\r\n    method: 'get',\r\n    url: `/article/getArticleInfo/${articleId}`\r\n  })\r\n}\r\n\r\n// 修改文章信息\r\nexport const updateArticleInfo = data => {\r\n  return request({\r\n    method: 'post',\r\n    url: '/article/updateById',\r\n    data\r\n  })\r\n}\r\n\r\n// 根据 id 删除文章\r\nexport const deleteArticleById = id => {\r\n  return request({\r\n    method: 'get',\r\n    url: `/article/deleteById/${id}`\r\n  })\r\n}\r\n\r\n// 上传文章图片\r\nexport const uploadArticlePicture = data => {\r\n  return request({\r\n    method: 'post',\r\n    url: '/oss/uploadArticlePicture',\r\n    data\r\n  })\r\n}\r\n\r\n// 根据url删除文章图片\r\nexport const deleteArticlePicture = params => {\r\n  return request({\r\n    method: 'get',\r\n    url: '/article/deleteMdPicture',\r\n    params\r\n  })\r\n}\r\n\r\n// 根据文章id查看当前已绑定该文章的图片\r\nexport const getPicturesByArticleId = params => {\r\n  return request({\r\n    method: 'get',\r\n    url: '/article/getPicturesByArticleId',\r\n    params\r\n  })\r\n}\r\n\r\n// 清理未绑定的图片\r\nexport const deleteNoBindPicture = () => {\r\n  return request({\r\n    method: 'get',\r\n    url: '/article/deleteNoBindPicture',\r\n  })\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Button, message } from 'antd'\r\nimport { LeftOutlined } from '@ant-design/icons';\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport MDEditor from '@uiw/react-md-editor'\r\nimport styles from './index.module.scss'\r\nimport { getArticleInfo } from '@/api/article'\r\n\r\nfunction MdView() {\r\n  const location = useLocation()\r\n  const history = useHistory()\r\n\r\n  const {\r\n    state: { articleId }\r\n  } = location\r\n  const [article, setArticle] = useState({})\r\n  useEffect(async () => {\r\n    try {\r\n      const res = await getArticleInfo(articleId)\r\n      if (res.code === 200) {\r\n        setArticle(() => {\r\n          return res.data.articleInfo\r\n        })\r\n      } else {\r\n        message.error('获取文章详情失败，请稍后重试')\r\n      }\r\n    } catch (e) {\r\n      console.log(e)\r\n      // message.error('获取文章详情失败，请稍后重试');\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <div className={styles.root}>\r\n      <div className=\"md-view-body\">\r\n        <div className=\"go-edit-btn\">\r\n          <Button\r\n            className=\"margin-right-8px\"\r\n            // type=\"primary\"\r\n            icon={<LeftOutlined />}\r\n            onClick={() => history.go(-1)}\r\n          >\r\n            返回\r\n          </Button>\r\n        </div>\r\n        <div className=\"title\">{article.title}</div>\r\n        {article.description ? (\r\n          <div className=\"description\">{article.description}</div>\r\n        ) : null}\r\n        <MDEditor.Markdown\r\n          source={article.content}\r\n          style={{ whiteSpace: 'pre-wrap' }}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MdView\r\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"XPzypMvyrVoldsl8N_nh\"};","import axios from 'axios'\nimport { getToken } from './storage'\nimport baseURL from '@/config/api'\n\nconst http = axios.create({\n  baseURL,\n  timeout: 50000\n})\n\nhttp.interceptors.request.use(config => {\n  const { token } = getToken()\n  config.headers.Authorization = token\n  return config\n})\n\nhttp.interceptors.response.use(\n  response => {\n    return response.data\n  },\n  err => {\n    if (!err.response) {\n      console.log('网络繁忙，请稍后重试')\n      // return Promise.reject(err);\n    }\n    return Promise.reject(err)\n  }\n)\n\nexport default http\n","const env = process.env.NODE_ENV\r\n\r\nconst config = {\r\n  development: {\r\n    baseURL: '/api'\r\n  },\r\n  production: {\r\n    baseURL: '/api'\r\n  }\r\n}\r\n\r\nexport default config[env].baseURL\r\n"],"names":["addArticle","data","request","method","url","getHomeArticleList","params","getArticleList","keyword","pageParams","getArticleInfo","articleId","updateArticleInfo","deleteArticleById","id","uploadArticlePicture","deleteArticlePicture","getPicturesByArticleId","deleteNoBindPicture","i","location","useLocation","history","useHistory","state","useState","article","setArticle","useEffect","res","code","articleInfo","message","console","log","className","icon","LeftOutlined","onClick","go","title","description","source","content","style","whiteSpace","http","axios","baseURL","timeout","interceptors","use","config","token","getToken","headers","Authorization","response","err","Promise","reject"],"sourceRoot":""}